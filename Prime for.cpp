#include <iostream> 

int main() { 
    int num; // ประกาศตัวแปรชนิด integer ชื่อ num เพื่อเก็บค่าตัวเลขที่ผู้ใช้กรอก
    
    std::cout << "Enter number : "; 
    
    std::cin >> num; 

    std::cout << "Output:" << std::endl; 

    // ลูปนี้จะนับถอยหลังตั้งแต่ค่า num ที่ผู้ใช้ป้อนมา จนถึง 2
    // i คือตัวแปรที่จะถูกตรวจสอบว่าเป็นจำนวนเฉพาะหรือไม่
    for (int i = num; i >= 2; i--) { 
        
        // ประกาศตัวแปร boolean ชื่อ isPrime และกำหนดค่าเริ่มต้นเป็น true
        // เราจะถือว่า i เป็นจำนวนเฉพาะไว้ก่อน จนกว่าจะพบตัวหารอื่น
        bool isPrime = true; 

        // เริ่มต้นลูป for รอบใน
        // ลูปนี้จะวนเพื่อหาตัวหารของ i
        // j เริ่มจาก 2 และจะวนไปเรื่อยๆ จนถึงค่าที่น้อยกว่า i
        for (int j = 2; j < i; j++) { 
            
            // ใช้เครื่องหมาย modulo (%) เพื่อตรวจสอบว่า i หารด้วย j ลงตัวหรือไม่
            if (i % j == 0) { 
                
                // ถ้าหารลงตัว แสดงว่า i ไม่ใช่จำนวนเฉพาะ
                // กำหนด isPrime เป็น false
                isPrime = false; 
                
                // ใช้คำสั่ง break เพื่อออกจากลูป for รอบในทันที
                // เพราะเราพบแล้วว่าไม่ใช่จำนวนเฉพาะ จึงไม่จำเป็นต้องตรวจสอบต่อ
                break; 
            }
        }

        // เมื่อออกจากลูป for รอบในแล้ว ให้ตรวจสอบค่าของ isPrime
        // ถ้า isPrime ยังคงเป็น true แสดงว่าไม่พบตัวหารเลย
        if (isPrime) { 
            
            // พิมพ์ค่า i ออกมาบนหน้าจอ ตามด้วยการเว้นวรรค
            std::cout << i << " "; 
        }
    }

    // เมื่อลูป for รอบนอกทำงานเสร็จสิ้น ให้ขึ้นบรรทัดใหม่
    std::cout << std::endl; 
    
    // คืนค่า 0 เพื่อบอกระบบปฏิบัติการว่าโปรแกรมทำงานเสร็จสิ้นโดยไม่มีข้อผิดพลาด
    return 0; 
}